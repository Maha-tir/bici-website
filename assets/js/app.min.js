const NAVMENU = document.querySelector(".header-nav-content"),
  NAVMOBILE = document.querySelector("#nav-mobile");

function myFunction(x) {
  if (!x.matches) {
    NAVMENU.innerHTML = NAVMENU.innerHTML;
    NAVMOBILE.innerHTML = null;
  } else {
    NAVMOBILE.innerHTML += NAVMENU.innerHTML;
  }
}

var windowMatch = window.matchMedia("(max-width: 768px)");
myFunction(windowMatch);
windowMatch.addListener(myFunction);

const ToggleNavMobile = document.querySelectorAll(".toggle-nav-mobile"),
  NavMobile = document.querySelector(".side-nav-mobile"),
  NavBackdrop = document.createElement("div");
NavBackdrop.className = "nav-backdrop fade-animation";

ToggleNavMobile.forEach((btn) => {
  btn.addEventListener("click", (e) => {
    if (!NavMobile.classList.contains("show")) {
      document.body.appendChild(NavBackdrop);
      document.body.style.overflowY = "hidden";
      document.body.classList.add("side-nav-mobile__is-actived");
      NavMobile.classList.add("show");
      setTimeout(() => {
        NavBackdrop.classList.add("fade-show");
      }, 150);
    } else if (NavMobile.classList.contains("show")) {
      document.body.style.overflowY = "auto";
      document.body.classList.remove("side-nav-mobile__is-actived");
      NavMobile.classList.remove("show");
      NavBackdrop.classList.remove("fade-show");
      setTimeout(() => {
        NavBackdrop.remove();
      }, 300);
    }
  });
  NavBackdrop.addEventListener("click", (e) => {
    document.body.style.overflowY = "auto";
    document.body.classList.remove("side-nav-mobile__is-actived");
    NavMobile.classList.remove("show");
    NavBackdrop.classList.remove("fade-show");
    setTimeout(() => {
      NavBackdrop.remove();
    }, 300);
  });
});
